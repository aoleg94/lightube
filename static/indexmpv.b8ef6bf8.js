var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(){}function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return 0===Object.keys(t).length}function a(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function i(t,e,n){t.$$.on_destroy.push(a(e,n))}function $(t,e,n,r){if(t){const o=u(t,e,n,r);return t[0](o)}}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function f(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function p(t,e,n,r,o,s){if(o){const l=u(e,n,r,s);t.p(l,o)}}function d(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}new Set;let m=!1;function g(t,e){t.appendChild(e)}function h(t,e,n){const r=x(t);if(!r.getElementById(e)){const t=k("style");t.id=e,t.textContent=n,b(r,t)}}function x(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function b(t,e){g(t.head||t,e)}function w(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function C(){return _(" ")}function S(){return _("")}function T(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function O(t,e,n){t.classList[n?"add":"remove"](e)}new Set;let P;function N(t){P=t}function I(){if(!P)throw new Error("Function called outside component initialization");return P}function j(t){I().$$.on_destroy.push(t)}function M(t){return I().$$.context.get(t)}const R=[],L=[],U=[],A=[],B=Promise.resolve();let K=!1;function D(){K||(K=!0,B.then(V))}function F(t){U.push(t)}let H=!1;const Q=new Set;function V(){if(!H){H=!0;do{for(let t=0;t<R.length;t+=1){const e=R[t];N(e),W(e.$$)}for(N(null),R.length=0;L.length;)L.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];Q.has(e)||(Q.add(e),e())}U.length=0}while(R.length);for(;A.length;)A.pop()();K=!1,H=!1,Q.clear()}}function W(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const X=new Set;let Y;function G(){Y={r:0,c:[],p:Y}}function J(){Y.r||o(Y.c),Y=Y.p}function Z(t,e){t&&t.i&&(X.delete(t),t.i(e))}function tt(t,e,n,r){if(t&&t.o){if(X.has(t))return;X.add(t),Y.c.push((()=>{X.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let et;function nt(t){t&&t.c()}function rt(t,e,r,l){const{fragment:c,on_mount:a,on_destroy:i,after_update:$}=t.$$;c&&c.m(e,r),l||F((()=>{const e=a.map(n).filter(s);i?i.push(...e):o(e),t.$$.on_mount=[]})),$.forEach(F)}function ot(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,n,s,l,c,a,i,$=[-1]){const u=P;N(t);const f=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:r(),dirty:$,skip_bound:!1,root:n.target||u.$$.root};i&&i(f.root);let p=!1;if(f.ctx=s?s(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&function(t,e){-1===t.$$.dirty[0]&&(R.push(t),D(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){m=!0;const t=(d=n.target,Array.from(d.childNodes));f.fragment&&f.fragment.l(t),t.forEach(v)}else f.fragment&&f.fragment.c();n.intro&&Z(t.$$.fragment),rt(t,n.target,n.anchor,n.customElement),m=!1,V()}var d;N(u)}"function"==typeof HTMLElement&&(et=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(s);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){ot(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class lt{$destroy(){ot(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ct=[];function at(t,n=e){let r;const o=new Set;function s(e){if(l(t,e)&&(t=e,r)){const e=!ct.length;for(const e of o)e[1](),ct.push(e,t);if(e){for(let t=0;t<ct.length;t+=2)ct[t][0](ct[t+1]);ct.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(l,c=e){const a=[l,c];return o.add(a),1===o.size&&(r=n(s)||e),l(t),()=>{o.delete(a),0===o.size&&(r(),r=null)}}}}function it(t){let e,n;const r=t[1].default,o=$(r,t,t[0],null);return{c(){e=k("div"),o&&o.c(),z(e,"class","tabs")},m(t,r){w(t,e,r),o&&o.m(e,null),n=!0},p(t,[e]){o&&o.p&&(!n||1&e)&&p(o,r,t,t[0],n?f(r,t[0],e,null):d(t[0]),null)},i(t){n||(Z(o,t),n=!0)},o(t){tt(o,t),n=!1},d(t){t&&v(e),o&&o.d(t)}}}const $t={};function ut(t,e,n){let{$$slots:r={},$$scope:o}=e;const s=[],l=[],c=at(null),a=at(null);var i,$;return i=$t,$={registerTab:t=>{s.push(t),c.update((e=>e||t)),j((()=>{const e=s.indexOf(t);s.splice(e,1),c.update((n=>n===t?s[e]||s[s.length-1]:n))}))},registerPanel:t=>{l.push(t),a.update((e=>e||t)),j((()=>{const e=l.indexOf(t);l.splice(e,1),a.update((n=>n===t?l[e]||l[l.length-1]:n))}))},selectTab:t=>{const e=s.indexOf(t);c.set(t),a.set(l[e])},selectedTab:c,selectedPanel:a},I().$$.context.set(i,$),t.$$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,r]}var ft=class extends lt{constructor(t){super(),st(this,t,ut,it,l,{})}};function pt(t){h(t,"svelte-u67ie9",".tab-list.svelte-u67ie9{border-bottom:1px solid #3366cc}")}function dt(t){let e,n;const r=t[1].default,o=$(r,t,t[0],null);return{c(){e=k("div"),o&&o.c(),z(e,"class","tab-list svelte-u67ie9")},m(t,r){w(t,e,r),o&&o.m(e,null),n=!0},p(t,[e]){o&&o.p&&(!n||1&e)&&p(o,r,t,t[0],n?f(r,t[0],e,null):d(t[0]),null)},i(t){n||(Z(o,t),n=!0)},o(t){tt(o,t),n=!1},d(t){t&&v(e),o&&o.d(t)}}}function mt(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,r]}var gt=class extends lt{constructor(t){super(),st(this,t,mt,dt,l,{},pt)}};function ht(t){let e;const n=t[4].default,r=$(n,t,t[3],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,o){r&&r.p&&(!e||8&o)&&p(r,n,t,t[3],e?f(n,t[3],o,null):d(t[3]),null)},i(t){e||(Z(r,t),e=!0)},o(t){tt(r,t),e=!1},d(t){r&&r.d(t)}}}function xt(t){let e,n,r=t[0]===t[1]&&ht(t);return{c(){r&&r.c(),e=S()},m(t,o){r&&r.m(t,o),w(t,e,o),n=!0},p(t,[n]){t[0]===t[1]?r?(r.p(t,n),1&n&&Z(r,1)):(r=ht(t),r.c(),Z(r,1),r.m(e.parentNode,e)):r&&(G(),tt(r,1,1,(()=>{r=null})),J())},i(t){n||(Z(r),n=!0)},o(t){tt(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function bt(t,e,n){let r,{$$slots:o={},$$scope:s}=e;const l={},{registerPanel:c,selectedPanel:a}=M($t);return i(t,a,(t=>n(0,r=t))),c(l),t.$$set=t=>{"$$scope"in t&&n(3,s=t.$$scope)},[r,l,a,s,o]}var wt=class extends lt{constructor(t){super(),st(this,t,bt,xt,l,{})}};function vt(t){h(t,"svelte-w1exa9","button.svelte-w1exa9{background:none;border:none;border-bottom:2px solid white;border-radius:0;margin:0;color:#ccc;font-size:1em}.selected.svelte-w1exa9{border-bottom:2px solid #3366cc;color:#3366cc}")}function yt(t){let e,n,r,o;const s=t[5].default,l=$(s,t,t[4],null);return{c(){e=k("button"),l&&l.c(),z(e,"class","svelte-w1exa9"),O(e,"selected",t[0]===t[1])},m(s,c){w(s,e,c),l&&l.m(e,null),n=!0,r||(o=T(e,"click",t[6]),r=!0)},p(t,[r]){l&&l.p&&(!n||16&r)&&p(l,s,t,t[4],n?f(s,t[4],r,null):d(t[4]),null),3&r&&O(e,"selected",t[0]===t[1])},i(t){n||(Z(l,t),n=!0)},o(t){tt(l,t),n=!1},d(t){t&&v(e),l&&l.d(t),r=!1,o()}}}function kt(t,e,n){let r,{$$slots:o={},$$scope:s}=e;const l={},{registerTab:c,selectTab:a,selectedTab:$}=M($t);i(t,$,(t=>n(0,r=t))),c(l);return t.$$set=t=>{"$$scope"in t&&n(4,s=t.$$scope)},[r,l,a,$,s,o,()=>a(l)]}var _t=class extends lt{constructor(t){super(),st(this,t,kt,yt,l,{},vt)}};const Ct=at(!0);function St(t){h(t,"svelte-1vgwv1w",".btn.svelte-1vgwv1w{display:inline-block;text-align:center;text-decoration:none;margin:2px 0;border:solid 1px transparent;border-radius:4px;padding:1em 1em;color:#ffffff;background-color:#3366cc}.btn.svelte-1vgwv1w:active{transform:translateY(1px);filter:saturate(150%)}.btn.svelte-1vgwv1w:hover{color:#3366cc;border-color:currentColor;background-color:white}.small.svelte-1vgwv1w{padding:0.6em 0.6em}")}function Tt(t){let n,r,o,s;return{c(){n=k("a"),r=_(t[0]),z(n,"class","btn svelte-1vgwv1w"),O(n,"small",t[1])},m(e,l){w(e,n,l),g(n,r),o||(s=T(n,"click",t[2]),o=!0)},p(t,[e]){1&e&&q(r,t[0]),2&e&&O(n,"small",t[1])},i:e,o:e,d(t){t&&v(n),o=!1,s()}}}function zt(t,e,n){let{uri:r}=e,{text:o}=e,{small:s=!1}=e,{pause:l=!1}=e;return t.$$set=t=>{"uri"in t&&n(3,r=t.uri),"text"in t&&n(0,o=t.text),"small"in t&&n(1,s=t.small),"pause"in t&&n(4,l=t.pause)},[o,s,function(){fetch(r,{method:"POST"}),Ct.set(!0)},r,l]}var qt=class extends lt{constructor(t){super(),st(this,t,zt,Tt,l,{uri:3,text:0,small:1,pause:4},St)}};function Et(t){h(t,"svelte-kw37jq",".selected.svelte-kw37jq{font-weight:bold}")}function Ot(t,e,n){const r=t.slice();return r[5]=e[n],r}function Pt(t){let e,n,r,o,s,l=t[5].lang+"";function c(...e){return t[4](t[5],...e)}return{c(){e=k("li"),n=k("a"),r=_(l),z(n,"class","svelte-kw37jq"),O(n,"selected",t[5].selected)},m(t,l){w(t,e,l),g(e,n),g(n,r),o||(s=T(n,"click",c),o=!0)},p(e,o){t=e,1&o&&l!==(l=t[5].lang+"")&&q(r,l),1&o&&O(n,"selected",t[5].selected)},d(t){t&&v(e),o=!1,s()}}}function Nt(t){let n,r,o,s,l,c,a=t[0],i=[];for(let e=0;e<a.length;e+=1)i[e]=Pt(Ot(t,a,e));return{c(){n=k("ol"),r=k("li"),o=k("a"),o.textContent="Off",s=C();for(let t=0;t<i.length;t+=1)i[t].c();z(o,"class","svelte-kw37jq"),O(o,"selected",!It(t[0]))},m(e,a){w(e,n,a),g(n,r),g(r,o),g(n,s);for(let t=0;t<i.length;t+=1)i[t].m(n,null);l||(c=T(o,"click",t[3]),l=!0)},p(t,[e]){if(1&e&&O(o,"selected",!It(t[0])),3&e){let r;for(a=t[0],r=0;r<a.length;r+=1){const o=Ot(t,a,r);i[r]?i[r].p(o,e):(i[r]=Pt(o),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=a.length}},i:e,o:e,d(t){t&&v(n),y(i,t),l=!1,c()}}}function It(t){for(var e of t)if(e.selected)return!0;return!1}function jt(t,e,n){let{tracks:r}=e,{kind:o}=e;function s(t){fetch("/api/setprop/"+o+"/"+t,{method:"POST"}),Ct.set(!0)}return t.$$set=t=>{"tracks"in t&&n(0,r=t.tracks),"kind"in t&&n(2,o=t.kind)},[r,s,o,t=>s(!1),(t,e)=>s(t.id)]}var Mt=class extends lt{constructor(t){super(),st(this,t,jt,Nt,l,{tracks:0,kind:2},Et)}};function Rt(t){h(t,"svelte-4cz0hf",".selected.svelte-4cz0hf{font-weight:bold}.max.svelte-4cz0hf{width:100%}")}function Lt(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function Ut(t){let e,n;return e=new qt({props:{small:!0,text:"▶",uri:"/api/setprop/playlist_pos/"+t[4]}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function At(t){let e,n;return e=new qt({props:{small:!0,text:"⏯",uri:"/api/play"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Bt(t){let e,n,r,o,s,l,c,a,i,$,u,f,p,d,m,h,x,b,y,S=(t[2].title||t[2].filename)+"";const T=[At,Ut],E=[];function P(t,e){return t[2].current?0:1}return r=P(t),o=E[r]=T[r](t),u=new qt({props:{small:!0,text:"⏫",uri:"/api/move/"+t[4]+"/"+(t[4]-1)}}),d=new qt({props:{small:!0,text:"⏬",uri:"/api/move/"+t[4]+"/"+(t[4]+2)}}),x=new qt({props:{small:!0,text:"❌",uri:"/api/remove/"+t[4]}}),{c(){e=k("tr"),n=k("td"),o.c(),s=C(),l=k("a"),c=_(S),i=C(),$=k("td"),nt(u.$$.fragment),f=C(),p=k("td"),nt(d.$$.fragment),m=C(),h=k("td"),nt(x.$$.fragment),b=C(),z(l,"href",a=t[2].filename),z(l,"class","svelte-4cz0hf"),O(l,"selected",t[2].current),z(n,"class","max svelte-4cz0hf")},m(t,o){w(t,e,o),g(e,n),E[r].m(n,null),g(n,s),g(n,l),g(l,c),g(e,i),g(e,$),rt(u,$,null),g(e,f),g(e,p),rt(d,p,null),g(e,m),g(e,h),rt(x,h,null),g(e,b),y=!0},p(t,e){let i=r;r=P(t),r!==i&&(G(),tt(E[i],1,1,(()=>{E[i]=null})),J(),o=E[r],o||(o=E[r]=T[r](t),o.c()),Z(o,1),o.m(n,s)),(!y||1&e)&&S!==(S=(t[2].title||t[2].filename)+"")&&q(c,S),(!y||1&e&&a!==(a=t[2].filename))&&z(l,"href",a),1&e&&O(l,"selected",t[2].current)},i(t){y||(Z(o),Z(u.$$.fragment,t),Z(d.$$.fragment,t),Z(x.$$.fragment,t),y=!0)},o(t){tt(o),tt(u.$$.fragment,t),tt(d.$$.fragment,t),tt(x.$$.fragment,t),y=!1},d(t){t&&v(e),E[r].d(),ot(u),ot(d),ot(x)}}}function Kt(t){let e,n;return e=new qt({props:{text:"Clear",uri:"/api/clear"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Dt(t){let e,n,r,o,s=t[0],l=[];for(let e=0;e<s.length;e+=1)l[e]=Bt(Lt(t,s,e));const c=t=>tt(l[t],1,1,(()=>{l[t]=null}));let a=t[0].length>0&&Kt();return{c(){e=k("table");for(let t=0;t<l.length;t+=1)l[t].c();n=C(),a&&a.c(),r=S(),z(e,"class","max svelte-4cz0hf")},m(t,s){w(t,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null);w(t,n,s),a&&a.m(t,s),w(t,r,s),o=!0},p(t,[n]){if(1&n){let r;for(s=t[0],r=0;r<s.length;r+=1){const o=Lt(t,s,r);l[r]?(l[r].p(o,n),Z(l[r],1)):(l[r]=Bt(o),l[r].c(),Z(l[r],1),l[r].m(e,null))}for(G(),r=s.length;r<l.length;r+=1)c(r);J()}t[0].length>0?a?1&n&&Z(a,1):(a=Kt(),a.c(),Z(a,1),a.m(r.parentNode,r)):a&&(G(),tt(a,1,1,(()=>{a=null})),J())},i(t){if(!o){for(let t=0;t<s.length;t+=1)Z(l[t]);Z(a),o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)tt(l[t]);tt(a),o=!1},d(t){t&&v(e),y(l,t),t&&v(n),a&&a.d(t),t&&v(r)}}}function Ft(t,e,n){let{playlist:r}=e;return t.$$set=t=>{"playlist"in t&&n(0,r=t.playlist)},[r]}var Ht=class extends lt{constructor(t){super(),st(this,t,Ft,Dt,l,{playlist:0},Rt)}};function Qt(t){let n;return{c(){n=k("div")},m(t,e){w(t,n,e)},p:e,i:e,o:e,d(t){t&&v(n)}}}function Vt(t,e,n){let{state:r}=e;return t.$$set=t=>{"state"in t&&n(0,r=t.state)},[r]}var Wt=class extends lt{constructor(t){super(),st(this,t,Vt,Qt,l,{state:0})}};function Xt(t){h(t,"svelte-bz3xmc",".w100.svelte-bz3xmc{width:98%}.selected.svelte-bz3xmc{font-weight:bold}")}function Yt(t,e,n){const r=t.slice();return r[6]=e[n],r}function Gt(t,e,n){const r=t.slice();return r[9]=e[n],r}function Jt(t){let e,n;return e=new qt({props:{text:"⏸",uri:"/api/pause"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Zt(t){let e,n;return e=new qt({props:{text:"▶️",uri:"/api/play"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function te(t){let e;return{c(){e=_("Playlist")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function ee(t){let e;return{c(){e=_("Audio Tracks")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function ne(t){let e;return{c(){e=_("Subtitles")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function re(t){let e;return{c(){e=_("File system")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function oe(t){let e;return{c(){e=_("Quality")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function se(t){let e,n,r,o,s,l,c,a,i,$;return e=new _t({props:{$$slots:{default:[te]},$$scope:{ctx:t}}}),r=new _t({props:{$$slots:{default:[ee]},$$scope:{ctx:t}}}),s=new _t({props:{$$slots:{default:[ne]},$$scope:{ctx:t}}}),c=new _t({props:{$$slots:{default:[re]},$$scope:{ctx:t}}}),i=new _t({props:{$$slots:{default:[oe]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=C(),nt(r.$$.fragment),o=C(),nt(s.$$.fragment),l=C(),nt(c.$$.fragment),a=C(),nt(i.$$.fragment)},m(t,u){rt(e,t,u),w(t,n,u),rt(r,t,u),w(t,o,u),rt(s,t,u),w(t,l,u),rt(c,t,u),w(t,a,u),rt(i,t,u),$=!0},p(t,n){const o={};4096&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const l={};4096&n&&(l.$$scope={dirty:n,ctx:t}),r.$set(l);const a={};4096&n&&(a.$$scope={dirty:n,ctx:t}),s.$set(a);const $={};4096&n&&($.$$scope={dirty:n,ctx:t}),c.$set($);const u={};4096&n&&(u.$$scope={dirty:n,ctx:t}),i.$set(u)},i(t){$||(Z(e.$$.fragment,t),Z(r.$$.fragment,t),Z(s.$$.fragment,t),Z(c.$$.fragment,t),Z(i.$$.fragment,t),$=!0)},o(t){tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(s.$$.fragment,t),tt(c.$$.fragment,t),tt(i.$$.fragment,t),$=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(s,t),t&&v(l),ot(c,t),t&&v(a),ot(i,t)}}}function le(t){let e,n;return e=new Ht({props:{playlist:t[0].playlist}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.playlist=t[0].playlist),e.$set(r)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function ce(t){let e,n;return e=new Mt({props:{tracks:t[0].audio_tracks,kind:"audio"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.tracks=t[0].audio_tracks),e.$set(r)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function ae(t){let e,n;return e=new Mt({props:{tracks:t[0].sub_tracks,kind:"sub"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.tracks=t[0].sub_tracks),e.$set(r)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function ie(t){let e,n,r,o,s,l,c,a=t[9].name+"";return r=new qt({props:{small:!0,text:"+",uri:"/api/load/file://"+encodeURIComponent(t[9].full)}}),{c(){e=k("tr"),n=k("td"),nt(r.$$.fragment),o=k("span"),s=_(" "),l=_(a)},m(t,a){w(t,e,a),g(e,n),rt(r,n,null),g(n,o),g(o,s),g(o,l),c=!0},p(t,e){const n={};1&e&&(n.uri="/api/load/file://"+encodeURIComponent(t[9].full)),r.$set(n),(!c||1&e)&&a!==(a=t[9].name+"")&&q(l,a)},i(t){c||(Z(r.$$.fragment,t),c=!0)},o(t){tt(r.$$.fragment,t),c=!1},d(t){t&&v(e),ot(r)}}}function $e(t){let e,n,r,o,s=t[0].movies,l=[];for(let e=0;e<s.length;e+=1)l[e]=ie(Gt(t,s,e));const c=t=>tt(l[t],1,1,(()=>{l[t]=null}));return r=new qt({props:{text:"Scan movies",uri:"/api/scan"}}),{c(){e=k("table");for(let t=0;t<l.length;t+=1)l[t].c();n=C(),nt(r.$$.fragment)},m(t,s){w(t,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null);w(t,n,s),rt(r,t,s),o=!0},p(t,n){if(1&n){let r;for(s=t[0].movies,r=0;r<s.length;r+=1){const o=Gt(t,s,r);l[r]?(l[r].p(o,n),Z(l[r],1)):(l[r]=ie(o),l[r].c(),Z(l[r],1),l[r].m(e,null))}for(G(),r=s.length;r<l.length;r+=1)c(r);J()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)Z(l[t]);Z(r.$$.fragment,t),o=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)tt(l[t]);tt(r.$$.fragment,t),o=!1},d(t){t&&v(e),y(l,t),t&&v(n),ot(r,t)}}}function ue(t){let e,n,r,o,s,l=t[6]==ge?"Max":t[6]+"p";function c(...e){return t[4](t[6],...e)}return{c(){e=k("li"),n=k("a"),r=_(l),z(n,"class","svelte-bz3xmc"),O(n,"selected",t[0].quality==t[6])},m(t,l){w(t,e,l),g(e,n),g(n,r),o||(s=T(n,"click",c),o=!0)},p(e,r){t=e,5&r&&O(n,"selected",t[0].quality==t[6])},d(t){t&&v(e),o=!1,s()}}}function fe(t){let e,n,r,o,s,l,c,a,i,$,u=(0|t[0].cache)+"",f=t[0].quality==ge?"Max":t[0].quality+"p";e=new qt({props:{text:"🔄",uri:"/api/retry",small:!0}});let p=t[2],d=[];for(let e=0;e<p.length;e+=1)d[e]=ue(Yt(t,p,e));return{c(){nt(e.$$.fragment),n=_(" Cache: "),r=_(u),o=_(" s\n\t\t"),s=k("br"),l=_("\n\t\tCurrent max quality: "),c=_(f),a=C(),i=k("ul");for(let t=0;t<d.length;t+=1)d[t].c()},m(t,u){rt(e,t,u),w(t,n,u),w(t,r,u),w(t,o,u),w(t,s,u),w(t,l,u),w(t,c,u),w(t,a,u),w(t,i,u);for(let t=0;t<d.length;t+=1)d[t].m(i,null);$=!0},p(t,e){if((!$||1&e)&&u!==(u=(0|t[0].cache)+"")&&q(r,u),(!$||1&e)&&f!==(f=t[0].quality==ge?"Max":t[0].quality+"p")&&q(c,f),5&e){let n;for(p=t[2],n=0;n<p.length;n+=1){const r=Yt(t,p,n);d[n]?d[n].p(r,e):(d[n]=ue(r),d[n].c(),d[n].m(i,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=p.length}},i(t){$||(Z(e.$$.fragment,t),$=!0)},o(t){tt(e.$$.fragment,t),$=!1},d(t){ot(e,t),t&&v(n),t&&v(r),t&&v(o),t&&v(s),t&&v(l),t&&v(c),t&&v(a),t&&v(i),y(d,t)}}}function pe(t){let e,n;return e=new Wt({props:{state:t[0].downloads||{}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.state=t[0].downloads||{}),e.$set(r)},i(t){n||(Z(e.$$.fragment,t),n=!0)},o(t){tt(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function de(t){let e,n,r,o,s,l,c,a,i,$,u,f,p,d;return e=new gt({props:{$$slots:{default:[se]},$$scope:{ctx:t}}}),r=new wt({props:{$$slots:{default:[le]},$$scope:{ctx:t}}}),s=new wt({props:{$$slots:{default:[ce]},$$scope:{ctx:t}}}),c=new wt({props:{$$slots:{default:[ae]},$$scope:{ctx:t}}}),i=new wt({props:{$$slots:{default:[$e]},$$scope:{ctx:t}}}),u=new wt({props:{$$slots:{default:[fe]},$$scope:{ctx:t}}}),p=new wt({props:{$$slots:{default:[pe]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=C(),nt(r.$$.fragment),o=C(),nt(s.$$.fragment),l=C(),nt(c.$$.fragment),a=C(),nt(i.$$.fragment),$=C(),nt(u.$$.fragment),f=C(),nt(p.$$.fragment)},m(t,m){rt(e,t,m),w(t,n,m),rt(r,t,m),w(t,o,m),rt(s,t,m),w(t,l,m),rt(c,t,m),w(t,a,m),rt(i,t,m),w(t,$,m),rt(u,t,m),w(t,f,m),rt(p,t,m),d=!0},p(t,n){const o={};4096&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const l={};4097&n&&(l.$$scope={dirty:n,ctx:t}),r.$set(l);const a={};4097&n&&(a.$$scope={dirty:n,ctx:t}),s.$set(a);const $={};4097&n&&($.$$scope={dirty:n,ctx:t}),c.$set($);const f={};4097&n&&(f.$$scope={dirty:n,ctx:t}),i.$set(f);const d={};4097&n&&(d.$$scope={dirty:n,ctx:t}),u.$set(d);const m={};4097&n&&(m.$$scope={dirty:n,ctx:t}),p.$set(m)},i(t){d||(Z(e.$$.fragment,t),Z(r.$$.fragment,t),Z(s.$$.fragment,t),Z(c.$$.fragment,t),Z(i.$$.fragment,t),Z(u.$$.fragment,t),Z(p.$$.fragment,t),d=!0)},o(t){tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(s.$$.fragment,t),tt(c.$$.fragment,t),tt(i.$$.fragment,t),tt(u.$$.fragment,t),tt(p.$$.fragment,t),d=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(s,t),t&&v(l),ot(c,t),t&&v(a),ot(i,t),t&&v($),ot(u,t),t&&v(f),ot(p,t)}}}function me(t){let e,n,r,s,l,c,a,i,$,u,f,p,d,m,h,x,b,y,S,O,P,N,I,j,M,R,L,U,A,B,K,D,F,H,Q,V,W,X,Y,et,st,lt,ct,at,it,$t,ut,pt,dt,mt,gt,ht,xt,bt,wt,vt,yt,kt,_t,Ct,St,Tt,zt,Et,Ot,Pt,Nt,It,jt,Mt,Rt,Lt,Ut,At,Bt,Kt,Dt,Ft,Ht,Qt,Vt,Wt,Xt,Yt,Gt,te,ee,ne,re,oe,se,le,ce,ae=(t[0].title||"No video")+"",ie=(t[0].video||"")+"",$e=be(t[0].position)+"",ue=be(t[0].duration)+"",fe=t[0].volume+"";x=new qt({props:{text:"Play Now",uri:"/api/load/"+encodeURIComponent(t[1])}}),y=new qt({props:{text:"Prepend",uri:"/api/add/"+encodeURIComponent(t[1])}}),O=new qt({props:{text:"Close",uri:"/api/reinit"}}),X=new qt({props:{text:"⏮",uri:"/api/seek/rel/-60"}}),et=new qt({props:{text:"⏪",uri:"/api/seek/rel/-5"}});const pe=[Zt,Jt],me=[];function ge(t,e){return t[0].playing?1:0}return lt=ge(t),ct=me[lt]=pe[lt](t),it=new qt({props:{text:"⏩",uri:"/api/seek/rel/5"}}),ut=new qt({props:{text:"⏭",uri:"/api/seek/rel/60"}}),Et=new qt({props:{text:t[0].mute?"🔈":"🔇",uri:"/api/mute"}}),Pt=new qt({props:{text:"🔉",uri:"/api/vol/rel/-5"}}),It=new qt({props:{text:"🔊",uri:"/api/vol/rel/5"}}),Lt=new qt({props:{text:"🤑",uri:"/api/sponsorblock"}}),At=new qt({props:{text:"🔡",uri:"/api/subpos"}}),Kt=new qt({props:{text:"🎚",uri:"/api/cyclev/af/loudnorm=I=-30 loudnorm=I=-15 anull"}}),Qt=new qt({props:{text:"⏪",uri:"/api/speed/down"}}),Wt=new qt({props:{text:"🕛",uri:"/api/speed/abs/1"}}),Yt=new qt({props:{text:"⏩",uri:"/api/speed/up"}}),oe=new ft({props:{$$slots:{default:[de]},$$scope:{ctx:t}}}),{c(){e=k("span"),n=_(ae),r=C(),s=k("br"),l=C(),c=k("a"),a=_(ie),$=C(),u=k("br"),f=_("\nNew URL:"),p=k("input"),d=C(),m=k("br"),h=C(),nt(x.$$.fragment),b=C(),nt(y.$$.fragment),S=C(),nt(O.$$.fragment),P=C(),N=k("br"),I=C(),j=k("br"),M=_("\nSeek: "),R=_($e),L=_(" / "),U=_(ue),A=C(),B=k("input"),F=C(),H=k("br"),Q=C(),V=k("br"),W=C(),nt(X.$$.fragment),Y=C(),nt(et.$$.fragment),st=C(),ct.c(),at=C(),nt(it.$$.fragment),$t=C(),nt(ut.$$.fragment),pt=C(),dt=k("br"),mt=C(),gt=k("br"),ht=C(),xt=k("br"),bt=_("\nVolume: "),wt=_(fe),vt=_("%\n"),yt=k("input"),_t=C(),Ct=k("br"),St=C(),Tt=k("br"),zt=C(),nt(Et.$$.fragment),Ot=C(),nt(Pt.$$.fragment),Nt=C(),nt(It.$$.fragment),jt=C(),Mt=k("br"),Rt=C(),nt(Lt.$$.fragment),Ut=C(),nt(At.$$.fragment),Bt=C(),nt(Kt.$$.fragment),Dt=C(),Ft=k("br"),Ht=C(),nt(Qt.$$.fragment),Vt=C(),nt(Wt.$$.fragment),Xt=C(),nt(Yt.$$.fragment),Gt=C(),te=k("br"),ee=C(),ne=k("br"),re=C(),nt(oe.$$.fragment),z(c,"href",i=t[0].video),z(p,"class","w100 svelte-bz3xmc"),z(p,"type","text"),z(p,"maxlen",""),z(B,"class","w100 svelte-bz3xmc"),z(B,"type","range"),z(B,"min","0"),B.value=K=t[0].position,z(B,"max",D=t[0].duration),z(yt,"class","w100 svelte-bz3xmc"),z(yt,"type","range"),z(yt,"min","0"),yt.value=kt=t[0].volume,z(yt,"max","130")},m(o,i){w(o,e,i),g(e,n),w(o,r,i),w(o,s,i),w(o,l,i),w(o,c,i),g(c,a),w(o,$,i),w(o,u,i),w(o,f,i),w(o,p,i),E(p,t[1]),w(o,d,i),w(o,m,i),w(o,h,i),rt(x,o,i),w(o,b,i),rt(y,o,i),w(o,S,i),rt(O,o,i),w(o,P,i),w(o,N,i),w(o,I,i),w(o,j,i),w(o,M,i),w(o,R,i),w(o,L,i),w(o,U,i),w(o,A,i),w(o,B,i),w(o,F,i),w(o,H,i),w(o,Q,i),w(o,V,i),w(o,W,i),rt(X,o,i),w(o,Y,i),rt(et,o,i),w(o,st,i),me[lt].m(o,i),w(o,at,i),rt(it,o,i),w(o,$t,i),rt(ut,o,i),w(o,pt,i),w(o,dt,i),w(o,mt,i),w(o,gt,i),w(o,ht,i),w(o,xt,i),w(o,bt,i),w(o,wt,i),w(o,vt,i),w(o,yt,i),w(o,_t,i),w(o,Ct,i),w(o,St,i),w(o,Tt,i),w(o,zt,i),rt(Et,o,i),w(o,Ot,i),rt(Pt,o,i),w(o,Nt,i),rt(It,o,i),w(o,jt,i),w(o,Mt,i),w(o,Rt,i),rt(Lt,o,i),w(o,Ut,i),rt(At,o,i),w(o,Bt,i),rt(Kt,o,i),w(o,Dt,i),w(o,Ft,i),w(o,Ht,i),rt(Qt,o,i),w(o,Vt,i),rt(Wt,o,i),w(o,Xt,i),rt(Yt,o,i),w(o,Gt,i),w(o,te,i),w(o,ee,i),w(o,ne,i),w(o,re,i),rt(oe,o,i),se=!0,le||(ce=[T(p,"input",t[3]),T(B,"change",he),T(yt,"change",xe)],le=!0)},p(t,[e]){(!se||1&e)&&ae!==(ae=(t[0].title||"No video")+"")&&q(n,ae),(!se||1&e)&&ie!==(ie=(t[0].video||"")+"")&&q(a,ie),(!se||1&e&&i!==(i=t[0].video))&&z(c,"href",i),2&e&&p.value!==t[1]&&E(p,t[1]);const r={};2&e&&(r.uri="/api/load/"+encodeURIComponent(t[1])),x.$set(r);const o={};2&e&&(o.uri="/api/add/"+encodeURIComponent(t[1])),y.$set(o),(!se||1&e)&&$e!==($e=be(t[0].position)+"")&&q(R,$e),(!se||1&e)&&ue!==(ue=be(t[0].duration)+"")&&q(U,ue),(!se||1&e&&K!==(K=t[0].position))&&(B.value=K),(!se||1&e&&D!==(D=t[0].duration))&&z(B,"max",D);let s=lt;lt=ge(t),lt!==s&&(G(),tt(me[s],1,1,(()=>{me[s]=null})),J(),ct=me[lt],ct||(ct=me[lt]=pe[lt](t),ct.c()),Z(ct,1),ct.m(at.parentNode,at)),(!se||1&e)&&fe!==(fe=t[0].volume+"")&&q(wt,fe),(!se||1&e&&kt!==(kt=t[0].volume))&&(yt.value=kt);const l={};1&e&&(l.text=t[0].mute?"🔈":"🔇"),Et.$set(l);const $={};4097&e&&($.$$scope={dirty:e,ctx:t}),oe.$set($)},i(t){se||(Z(x.$$.fragment,t),Z(y.$$.fragment,t),Z(O.$$.fragment,t),Z(X.$$.fragment,t),Z(et.$$.fragment,t),Z(ct),Z(it.$$.fragment,t),Z(ut.$$.fragment,t),Z(Et.$$.fragment,t),Z(Pt.$$.fragment,t),Z(It.$$.fragment,t),Z(Lt.$$.fragment,t),Z(At.$$.fragment,t),Z(Kt.$$.fragment,t),Z(Qt.$$.fragment,t),Z(Wt.$$.fragment,t),Z(Yt.$$.fragment,t),Z(oe.$$.fragment,t),se=!0)},o(t){tt(x.$$.fragment,t),tt(y.$$.fragment,t),tt(O.$$.fragment,t),tt(X.$$.fragment,t),tt(et.$$.fragment,t),tt(ct),tt(it.$$.fragment,t),tt(ut.$$.fragment,t),tt(Et.$$.fragment,t),tt(Pt.$$.fragment,t),tt(It.$$.fragment,t),tt(Lt.$$.fragment,t),tt(At.$$.fragment,t),tt(Kt.$$.fragment,t),tt(Qt.$$.fragment,t),tt(Wt.$$.fragment,t),tt(Yt.$$.fragment,t),tt(oe.$$.fragment,t),se=!1},d(t){t&&v(e),t&&v(r),t&&v(s),t&&v(l),t&&v(c),t&&v($),t&&v(u),t&&v(f),t&&v(p),t&&v(d),t&&v(m),t&&v(h),ot(x,t),t&&v(b),ot(y,t),t&&v(S),ot(O,t),t&&v(P),t&&v(N),t&&v(I),t&&v(j),t&&v(M),t&&v(R),t&&v(L),t&&v(U),t&&v(A),t&&v(B),t&&v(F),t&&v(H),t&&v(Q),t&&v(V),t&&v(W),ot(X,t),t&&v(Y),ot(et,t),t&&v(st),me[lt].d(t),t&&v(at),ot(it,t),t&&v($t),ot(ut,t),t&&v(pt),t&&v(dt),t&&v(mt),t&&v(gt),t&&v(ht),t&&v(xt),t&&v(bt),t&&v(wt),t&&v(vt),t&&v(yt),t&&v(_t),t&&v(Ct),t&&v(St),t&&v(Tt),t&&v(zt),ot(Et,t),t&&v(Ot),ot(Pt,t),t&&v(Nt),ot(It,t),t&&v(jt),t&&v(Mt),t&&v(Rt),ot(Lt,t),t&&v(Ut),ot(At,t),t&&v(Bt),ot(Kt,t),t&&v(Dt),t&&v(Ft),t&&v(Ht),ot(Qt,t),t&&v(Vt),ot(Wt,t),t&&v(Xt),ot(Yt,t),t&&v(Gt),t&&v(te),t&&v(ee),t&&v(ne),t&&v(re),ot(oe,t),le=!1,o(ce)}}}const ge=999999999;function he(t){var e=t.target.value;fetch("/api/seek/abs/"+e,{method:"POST"})}function xe(t){var e=t.target.value;fetch("/api/vol/abs/"+e,{method:"POST"})}function be(t){if(null==t)return"--:--";var e=Math.floor(t/3600);t%=3600;var n=Math.floor(t/60);return t=Math.floor(t%60),e.toString()+":"+n.toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")}function we(t,e,n){let r={title:"KEK",video:"kek",position:42,duration:212,volume:73,playing:!1,mute:!1,playlist:[],audio_tracks:[],sub_tracks:[]},o="https://www.youtube.com/watch?v=LXb3EKWsInQ",s=0;Ct.subscribe((t=>{t&&fetch("/api/status2").then((t=>t.json())).then((t=>{n(0,r=t),Ct.set(!1)}))})),setInterval((()=>{fetch("/api/status").then((t=>t.json())).then((t=>{for(var e in t.playlist_pos!=r.playlist_pos&&Ct.set(!0),t)n(0,r[e]=t[e],r)})),s=s>10?0:s+1,0===s&&Ct.set(!0)}),250),Ct.set(!0);return[r,o,[ge,2160,1080,720,480,360,240,144],function(){o=this.value,n(1,o)},(t,e)=>fetch("/api/maxres/"+t,{method:"POST"})]}new class extends lt{constructor(t){super(),st(this,t,we,me,l,{},Xt)}}({target:document.body});
//# sourceMappingURL=indexmpv.b8ef6bf8.js.map
